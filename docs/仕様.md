# アプリケーション仕様書 (フェーズ1)

## 1. アプリケーション概要

Windowsのシャットダウン/ログオフを検知し、ユーザーにリマインドを促すための常駐型ネイティブアプリケーション。

**仮称**: Shutdown Alert

## 2. 目的

PCのシャットダウン/ログオフ時に、勤怠打刻のような忘れがちなタスクをユーザーに通知し、実行を補助することを目的とする。フェーズ1では、まずリマインダー機能の基盤を構築する。

## 3. フェーズ1の機能要件

### 3.1. 基本動作

- アプリケーションはバックグラウンドで常駐し、OSのイベントを監視する。
- ユーザーが手動でアプリケーションを終了できる機能をタスクトレイ（通知領域）に設ける。

### 3.2. シャットダウン検知

- Windowsのシャットダウンまたはログオフイベントを検知する。

### 3.3. 確認ウィンドウの表示

- シャットダウンイベントを検知した際、以下の要素を持つ小さな確認ウィンドウを画面中央に表示する。
    - **タイトル**: `Shutdown Alert`
    - **メッセージ**: `PCをシャットダウンしようとしています。\n（URL）を開きますか？`
    - **ボタン**:
        - `開く(&O)` - キーボードショートカット: Alt+O
        - `開かない(&E)` - キーボードショートカット: Alt+E

### 3.4. ウィンドウ操作への応答

- **`開く(&O)` ボタンをクリックした場合**:
    - 設定された特定のURLを、OS標準のウェブブラウザで開く。
    - フェーズ1では、URLはソースコード内に固定値として埋め込む。（例: `https://www.google.com`）
    - ブラウザを開いた後、アプリケーションを終了する。

- **`開かない(&E)` ボタンをクリックした場合**:
    - 何も処理を行わず、アプリケーションを終了する。

- **ウィンドウの閉じるボタンをクリックした場合**:
    - `開かない(&E)` と同様の動作とする。

## 4. 非機能要件

### 4.1. 技術スタック

- **言語**: Go
- **UIライブラリ**: Windows APIを直接利用するか、軽量なGo向けGUIライブラリ（[fyne](https://fyne.io/) や [walk](https://github.com/lxn/walk) などを検討）
- **配布形式**: 単一の実行可能ファイル (`.exe`)

### 4.2. パフォーマンス

- 常駐時のCPU・メモリ消費量が極力少ないこと。
- アプリケーションの起動が高速であること。
- 実行ファイルのサイズが過度に大きくならないこと。（目標: 20MB以下）

## 5. フェーズ1でスコープ外とすること

- jinjerとの直接的な連携（API利用など）
- 設定ファイルによるURLの外部からの変更機能
- 自動アップデート機能
- 詳細なログ出力機能
